<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="./style_new.css">
    <title>Deutsche Bahn Abfahrtzeiten</title>
 
    <!-- Bootstrap ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css" />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js" integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q" crossorigin="anonymous"></script>
  </head>
  <body>
 
    <header>
  <div class="container">
    <h1 class="logo">Deutsche Bahn</h1>
    <button type="button" class="btn btn-danger" id="nav-toggle" aria-label="Navigation öffnen"></button>
    <nav id="nav-menu" aria-label="Hauptnavigation">
      <ul>
        <li><a href="#hauptmenu">Hauptmenü</a></li>
        <li><a href="#Verbindungen">Bahnhofssuche</a></li>
        <li><a href="#Tickets">Verbindungen</a></li>
        <li><a href="#Service">Tickets</a></li>
         <li><a href="#Kontakt">Einstellungen</a></li>
    </nav>
  </div>
  <img  src="https://chefinnensache.de/content/uploads/2020/04/Logo_Mitgliedsseite.png"  alt="Deutsche Bahn Logo" style="position: absolute; top: 10px; right: 20px; height: 55px;">
</header>
     
 
<!-- Hauptmenü mit Hintergrundbild ---------------------------------------------------------------------------------------------------------------------------------------------------------->
<section id="hauptmenu" class="position-relative text-white d-flex align-items-center" style="
  height: 800px;
  background: url('https://tse1.mm.bing.net/th/id/OIP.oUYjDywDXEK6ylIQUJYOCgHaEc?rs=1&pid=ImgDetMain&o=7&rm=3') center center/cover no-repeat;
">
  <!-- Overlay für dunklen Effekt (optional für bessere Lesbarkeit) -->
  <div class="position-absolute top-0 start-0 w-100 h-100" style="background-color: rgba(0,0,0,0.5);"></div>
 
  <!-- Inhalt zentriert -->
  <div class="container position-relative text-center">
    <div class="bg-dark bg-opacity-75 p-4 rounded">
      <h1 class="mb-3">Willkommen zu den Abfahrtszeiten</h1>
      <p class="mb-4 fs-5">Plane deine Reise mit aktuellen Zugabfahrten</p>
      <button id="btnAbfahrt" class="btn btn-primary btn-rounded-bottom">Abfahrtzeiten anzeigen</button>
    </div>
  </div>
</section>

<!-- Tabelle ---------------------------------------------------------------------------------------------------------------------------------------------------------->
<section id="abfahrtbereich" class="my-5">
  <h2>Verbindungen:</h2>
  <div class="container my-5" id="abfahrtbereich">
    <input id="stationInput">
    <ol id="stationsName" id="abfahrtbereich" class="mb-4"></ol>
      <table class="table table-striped table-bordered">
        <thead class="table-light">
            <tr>
              <th>Zeit</th><th>Ziel</th><th>Gleis</th><th>Zugtyp</th><th>Status</th>
            </tr>
          <tbody id="tabelleInhalt"></tbody>
        </thead>
      </table>
    </div>
</section>
<br>

<!-- Karte ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<section id="Verbindungen" class="my-5">
  <h2>Verbindungen:</h2>
  <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d6144852.754419821!2d5.176434512432731!3d51.06378036360403!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x479a721ec2b1be6b%3A0x75e85d6b8e91e55b!2sDeutschland!5e1!3m2!1sde!2sde!4v1752147817624!5m2!1sde!2sde" width="800" height="600" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
</section>


<!-- Leer ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
<section id="Tickets" class="my-5">
  <h2>PLATZHALTER:</h2>
  <p>
    PLATZHALTER
  </p>
</section>

<section id="Einstellungen" class="my-5">
  <h2>Einstellungen:</h2>
  <p>
    PLATZHALTER
  </p>
</section>
<!-- Script ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
  <script>
//Tabelle ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
    let zeitAPI = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j"];
    let zielAPI = ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10"];
    let gleisAPI = ["z", "y", "x", "w", "v", "u", "t", "s", "r", "q"];
    let typAPI = ["11", "12", "13", "14", "15", "16", "17", "18", "19", "20"];
    let statusAPI = ["!", "§", "$", "%", "&", "/", "()", "{}", "[]", "?"];

    const daten = zeitAPI.map((_, i) => ({
      zeit: zeitAPI[i],
      ziel: zielAPI[i],
      gleis: gleisAPI[i],
      typ: typAPI[i],
      status: statusAPI[i]
    }));

    const tabelle = document.getElementById("tabelleInhalt");

    daten.forEach((eintrag, i) => {
      const tr = document.createElement("tr");
      tr.innerHTML = `
        <td id="zeit${i+1}">${eintrag.zeit}</td>
        <td id="ziel${i+1}">${eintrag.ziel}</td>
        <td id="gleis${i+1}">${eintrag.gleis}</td>
        <td id="typ${i+1}">${eintrag.typ}</td>
        <td id="status${i+1}">${eintrag.status}</td>
      `;
      tabelle.appendChild(tr);
    });
//Textsuche ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
    function stationSearch(data) {
      let ol = document.getElementById('stationsName');
      ol.innerHTML = '';
      data.forEach((element) => {
        let li = document.createElement('li');
        li.appendChild(document.createTextNode(element.name));
        ol.appendChild(li);
      });
    }
    document.getElementById('stationInput').addEventListener('input', (event) => {
        if ('stationInput' != '') {
            fetch(("https://v6.vbb.transport.rest/locations?poi=false&addresses=false&query=") + (event.target.value))
                .then(response => response.json())
                .then(data => stationSearch(data))
                .catch(error => console.error(error));
        };
    });


//IDsuche ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->
  const stationInfoName = "S+U Berlin Hauptbahnhof"; // z. B. beliebiger Stationsname
  async function getStationIdByName(name) {
      return await fetch(`https://v6.vbb.transport.rest/locations?poi=false&addresses=false&query=${encodeURIComponent(name)}`)
      .then(response => response.json())
      .then(data => {
        const station = data.find(item => item.name === name);

        if (station) {
          return station.id
        } else {
          console.warn(`Keine Station mit dem Namen "${name}" gefunden.`);
        }
      })
      .catch(error => {
        console.error("Fehler beim Abrufen der Stationsdaten:", error);
      });
  }

async function stationIDbyName() {
  const stationID = await getStationIdByName(stationInfoName);
  return stationID;
}

console.log(stationIDbyName());

</script>
 
  </body>
<script>
 document.getElementById("btnAbfahrt").addEventListener("click", function() {
  // Das Ziel-Element mit der Abfahrts-Tabelle holen:
  const abfahrtbereich = document.getElementById("abfahrtbereich");
  if (abfahrtbereich) {
    abfahrtbereich.scrollIntoView({ behavior: "smooth" });
  }
});
    </script>
 
  </body>
</html>